2023-02-02 17:07:32 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WORKER" already exists; SQL statement:
CREATE TABLE worker (
                        id IDENTITY PRIMARY KEY,
                        name VARCHAR(1000) NOT NULL
                            CONSTRAINT name_length_worker
                            CHECK (length(name) > 2),
                        birthday DATE
                            CONSTRAINT data_start
                            CHECK (birthday >= '1901-01-01'),
                        level VARCHAR(10) NOT NULL
                            CONSTRAINT enum_level
                            CHECK (level IN ('Trainee', 'Junior', 'Middle', 'Senior')),
                        salary SMALLINT
                            CONSTRAINT amount_salary
                            CHECK (100000 >= salary AND salary >= 100)
) [42101-214]
2023-02-02 17:08:07 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "CREATE TABLE worker (\000a                        id IDENTITY PRIMARY KEY,\000a                        name VARCHAR(1000) NOT NULL\000a                            CONSTRAINT name_length_worker\000a                            CHECK (length(name) > 2),\000a                        birthday DATE\000a                            CONSTRAINT data_start\000a                            CHECK (birthday >= '1901-01-01'),\000a                        level VARCHAR(10) NOT NULL\000a                            CONSTRAINT enum_level\000a                            CHECK (level IN ('Trainee', 'Junior', 'Middle', 'Senior')),\000a                        salary SMALLINT\000a                            CONSTRAINT amount_salary\000a                            CHECK (100000 >= salary AND salary >= 100)\000a)\000a[*]CREATE TABLE client (\000a                        id IDENTITY PRIMARY KEY,\000a                        name VARCHAR(1000) NOT NULL\000a                            CONSTRAINT name_length_client\000a                            CHECK (length(name) > 2)\000a)\000aCREATE TABLE project (\000a                        id IDENTITY PRIMARY KEY,\000a                        client_id BIGINT,\000a                        start_date date,\000a                        finish_date date\000a)\000aCREATE TABLE project_worker (\000a                         project_id BIGINT,\000a                         worker_id BIGINT,\000a                         FOREIGN KEY (project_id) REFERENCES project(id),\000a                         FOREIGN KEY (worker_id) REFERENCES worker(id),\000a                         PRIMARY KEY (project_id, worker_id)\000a)"; SQL statement:
CREATE TABLE worker (
                        id IDENTITY PRIMARY KEY,
                        name VARCHAR(1000) NOT NULL
                            CONSTRAINT name_length_worker
                            CHECK (length(name) > 2),
                        birthday DATE
                            CONSTRAINT data_start
                            CHECK (birthday >= '1901-01-01'),
                        level VARCHAR(10) NOT NULL
                            CONSTRAINT enum_level
                            CHECK (level IN ('Trainee', 'Junior', 'Middle', 'Senior')),
                        salary SMALLINT
                            CONSTRAINT amount_salary
                            CHECK (100000 >= salary AND salary >= 100)
)
CREATE TABLE client (
                        id IDENTITY PRIMARY KEY,
                        name VARCHAR(1000) NOT NULL
                            CONSTRAINT name_length_client
                            CHECK (length(name) > 2)
)
CREATE TABLE project (
                        id IDENTITY PRIMARY KEY,
                        client_id BIGINT,
                        start_date date,
                        finish_date date
)
CREATE TABLE project_worker (
                         project_id BIGINT,
                         worker_id BIGINT,
                         FOREIGN KEY (project_id) REFERENCES project(id),
                         FOREIGN KEY (worker_id) REFERENCES worker(id),
                         PRIMARY KEY (project_id, worker_id)
) [42000-214]
2023-02-02 17:24:06 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WORKER" already exists; SQL statement:
CREATE TABLE worker (
                        id IDENTITY PRIMARY KEY,
                        name VARCHAR(1000) NOT NULL
                            CONSTRAINT name_length_worker
                            CHECK (length(name) > 2),
                        birthday DATE
                            CONSTRAINT data_start
                            CHECK (birthday >= '1901-01-01'),
                        level VARCHAR(10) NOT NULL
                            CONSTRAINT enum_level
                            CHECK (level IN ('Trainee', 'Junior', 'Middle', 'Senior')),
                        salary SMALLINT
                            CONSTRAINT amount_salary
                            CHECK (100000 >= salary AND salary >= 100)
) [42101-214]
2023-02-02 17:27:30 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WORKER" already exists; SQL statement:
CREATE TABLE worker (
                        id IDENTITY PRIMARY KEY,
                        name VARCHAR(1000) NOT NULL
                            CONSTRAINT name_length_worker
                            CHECK (length(name) > 2),
                        birthday DATE
                            CONSTRAINT data_start
                            CHECK (birthday >= '1901-01-01'),
                        level VARCHAR(10) NOT NULL
                            CONSTRAINT enum_level
                            CHECK (level IN ('Trainee', 'Junior', 'Middle', 'Senior')),
                        salary SMALLINT
                            CONSTRAINT amount_salary
                            CHECK (100000 >= salary AND salary >= 100)
) [42101-214]
2023-02-02 17:31:11 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WORKER" already exists; SQL statement:
CREATE TABLE worker (
                        id IDENTITY PRIMARY KEY,
                        name VARCHAR(1000) NOT NULL
                            CONSTRAINT name_length_worker
                            CHECK (length(name) > 2),
                        birthday DATE
                            CONSTRAINT data_start
                            CHECK (birthday >= '1901-01-01'),
                        level VARCHAR(10) NOT NULL
                            CONSTRAINT enum_level
                            CHECK (level IN ('Trainee', 'Junior', 'Middle', 'Senior')),
                        salary SMALLINT
                            CONSTRAINT amount_salary
                            CHECK (100000 >= salary AND salary >= 100)
) [42101-214]
2023-02-02 17:32:02 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "select * from worker\000d\000a[*]select * from project"; SQL statement:
select * from worker
select * from project [42000-214]
2023-02-02 18:58:21 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "drop [*]* table"; expected "TABLE, INDEX, USER, SEQUENCE, CONSTANT, TRIGGER, VIEW, ROLE, ALIAS, SCHEMA, ALL OBJECTS, DOMAIN, TYPE, DATATYPE, AGGREGATE, SYNONYM"; SQL statement:
drop * table [42001-214]
2023-02-02 18:58:33 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "drop [*]client table"; expected "TABLE, INDEX, USER, SEQUENCE, CONSTANT, TRIGGER, VIEW, ROLE, ALIAS, SCHEMA, ALL OBJECTS, DOMAIN, TYPE, DATATYPE, AGGREGATE, SYNONYM"; SQL statement:
drop client table [42001-214]
2023-02-02 18:58:46 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "drop table [*]*"; expected "identifier"; SQL statement:
drop table * [42001-214]
2023-02-02 18:58:55 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "drop table [*]all"; expected "identifier"; SQL statement:
drop table all [42001-214]
2023-02-02 18:59:14 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "CLIENT" not found; SQL statement:
drop table client [42102-214]
2023-02-02 18:59:14 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Cannot drop "PROJECT" because "CONSTRAINT_5" depends on it; SQL statement:
drop table PROJECT [90107-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.command.ddl.DropTable.prepareDrop(DropTable.java:97)
	at org.h2.command.ddl.DropTable.update(DropTable.java:121)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1339)
	at org.h2.server.web.WebApp.query(WebApp.java:1137)
	at org.h2.server.web.WebApp$1.next(WebApp.java:1103)
	at org.h2.server.web.WebApp$1.next(WebApp.java:1090)
	at org.h2.server.web.WebThread.process(WebThread.java:188)
	at org.h2.server.web.WebThread.run(WebThread.java:101)
	at java.base/java.lang.Thread.run(Thread.java:1589)
2023-02-02 18:59:18 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Cannot drop "PROJECT" because "CONSTRAINT_5" depends on it; SQL statement:
drop table PROJECT [90107-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.command.ddl.DropTable.prepareDrop(DropTable.java:97)
	at org.h2.command.ddl.DropTable.update(DropTable.java:121)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at org.h2.server.web.WebApp.getResult(WebApp.java:1339)
	at org.h2.server.web.WebApp.query(WebApp.java:1137)
	at org.h2.server.web.WebApp$1.next(WebApp.java:1103)
	at org.h2.server.web.WebApp$1.next(WebApp.java:1090)
	at org.h2.server.web.WebThread.process(WebThread.java:188)
	at org.h2.server.web.WebThread.run(WebThread.java:101)
	at java.base/java.lang.Thread.run(Thread.java:1589)
2023-02-02 18:59:45 database: flush
org.h2.message.DbException: General error: "org.h2.mvstore.MVStoreException: The file is locked: D:/IT/Workspace/IDEA/HomeWork4/home_work3.mv.db [2.1.214/7]" [50000-214]
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.message.DbException.convert(DbException.java:395)
	at org.h2.mvstore.db.Store.lambda$new$0(Store.java:125)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:3318)
	at org.h2.mvstore.MVStore.panic(MVStore.java:593)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:469)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:4082)
	at org.h2.mvstore.db.Store.<init>(Store.java:136)
	at org.h2.engine.Database.<init>(Database.java:324)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:122)
	at org.h2.Driver.connect(Driver.java:59)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:252)
	at feature.database.Database.<init>(Database.java:15)
	at feature.database.Database.<clinit>(Database.java:9)
	at feature.database.requests.DatabaseInitService.main(DatabaseInitService.java:17)
Caused by: org.h2.jdbc.JdbcSQLNonTransientException: General error: "org.h2.mvstore.MVStoreException: The file is locked: D:/IT/Workspace/IDEA/HomeWork4/home_work3.mv.db [2.1.214/7]" [50000-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:554)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	... 20 more
Caused by: org.h2.mvstore.MVStoreException: The file is locked: D:/IT/Workspace/IDEA/HomeWork4/home_work3.mv.db [2.1.214/7]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004)
	at org.h2.mvstore.FileStore.open(FileStore.java:178)
	at org.h2.mvstore.FileStore.open(FileStore.java:128)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:452)
	... 14 more
2023-02-02 19:00:06 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]./sql/find_max_salary_worker.sql"; SQL statement:
./sql/find_max_salary_worker.sql [42000-214]
2023-02-02 19:01:18 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]./sql/find_max_projects_client.sql"; SQL statement:
./sql/find_max_projects_client.sql [42000-214]
2023-02-02 19:02:21 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]./sql/find_max_projects_client.sql"; SQL statement:
./sql/find_max_projects_client.sql [42000-214]
2023-02-02 19:03:33 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "[*]./sql/find_max_projects_client.sql"; SQL statement:
./sql/find_max_projects_client.sql [42000-214]
2023-02-02 19:19:01 database: flush
org.h2.message.DbException: General error: "org.h2.mvstore.MVStoreException: The file is locked: D:/IT/Workspace/IDEA/HomeWork4/home_work3.mv.db [2.1.214/7]" [50000-214]
	at org.h2.message.DbException.get(DbException.java:212)
	at org.h2.message.DbException.convert(DbException.java:395)
	at org.h2.mvstore.db.Store.lambda$new$0(Store.java:125)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:3318)
	at org.h2.mvstore.MVStore.panic(MVStore.java:593)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:469)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:4082)
	at org.h2.mvstore.db.Store.<init>(Store.java:136)
	at org.h2.engine.Database.<init>(Database.java:324)
	at org.h2.engine.Engine.openSession(Engine.java:92)
	at org.h2.engine.Engine.openSession(Engine.java:222)
	at org.h2.engine.Engine.createSession(Engine.java:201)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:338)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:122)
	at org.h2.Driver.connect(Driver.java:59)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:252)
	at feature.database.Database.<init>(Database.java:15)
	at feature.database.Database.<clinit>(Database.java:9)
	at feature.database.requests.DatabaseQueryService.<init>(DatabaseQueryService.java:17)
	at Main.main(Main.java:9)
Caused by: org.h2.jdbc.JdbcSQLNonTransientException: General error: "org.h2.mvstore.MVStoreException: The file is locked: D:/IT/Workspace/IDEA/HomeWork4/home_work3.mv.db [2.1.214/7]" [50000-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:554)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	... 21 more
Caused by: org.h2.mvstore.MVStoreException: The file is locked: D:/IT/Workspace/IDEA/HomeWork4/home_work3.mv.db [2.1.214/7]
	at org.h2.mvstore.DataUtils.newMVStoreException(DataUtils.java:1004)
	at org.h2.mvstore.FileStore.open(FileStore.java:178)
	at org.h2.mvstore.FileStore.open(FileStore.java:128)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:452)
	... 15 more
